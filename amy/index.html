<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>How old is Amy?</title>
  <meta name="description" content="cute and fluffy">
  <meta name="author" content="stuartd">

  <link rel="stylesheet" href="../shared/styles.css">
  
  <script src="../shared/age.js"></script>

</head>

<body>
  <h1>How old is Amy?</h1>
  <h3>Refresh the page to change the image</h3>
  <h2 id="amy"></h2>  
  <h4><a href="/dave/">How old is Dave?</a></h4>
  <img id="amypic" />
 </body>

<script>
  var urlParams = new URLSearchParams(window.location.search);
  var test = urlParams.get('test');
  // 8th May, so pass 4 as the month (thanks Brendan)
  var birthDate = new Date(2020, 4, 8);
  var imageNum = Math.floor(Math.random() * (30));
  document.getElementById("amypic").src = "images/amy" + imageNum + ".jpeg";

  var date = test == null ? new Date() : new Date(test);
  console.log(date);
  console.log(new Date(test));
  console.log(new Date(test) == date);
  window.onload = 
    (document.getElementById("amy").innerHTML = 
      calculate(date, birthDate, "Amy"));
</script>
  
</html>